# æ•°ç»„ä¸å­—ç¬¦ä¸²æ“ä½œå¤§å…¨

## ğŸ“š ç›®å½•

- [ES1 æ—¶ä»£ï¼ˆ1997 å¹´ï¼‰](#es1-æ—¶ä»£1997å¹´)
- [ES5 æ—¶ä»£ï¼ˆ2009 å¹´ï¼‰](#es5-æ—¶ä»£2009å¹´)
- [ES2015/ES6 æ—¶ä»£ï¼ˆ2015 å¹´ï¼‰](#es2015es6-æ—¶ä»£2015å¹´)
- [ES2016 æ—¶ä»£ï¼ˆ2016 å¹´ï¼‰](#es2016-æ—¶ä»£2016å¹´)
- [ES2017 æ—¶ä»£ï¼ˆ2017 å¹´ï¼‰](#es2017-æ—¶ä»£2017å¹´)
- [ES2019 æ—¶ä»£ï¼ˆ2019 å¹´ï¼‰](#es2019-æ—¶ä»£2019å¹´)
- [ES2021 æ—¶ä»£ï¼ˆ2021 å¹´ï¼‰](#es2021-æ—¶ä»£2021å¹´)
- [ES2022 æ—¶ä»£ï¼ˆ2022 å¹´ï¼‰](#es2022-æ—¶ä»£2022å¹´)
- [å®é™…åº”ç”¨åœºæ™¯](#å®é™…åº”ç”¨åœºæ™¯)
- [æ€§èƒ½å¯¹æ¯”ä¸æœ€ä½³å®è·µ](#æ€§èƒ½å¯¹æ¯”ä¸æœ€ä½³å®è·µ)
- [é¢è¯•å¸¸è€ƒç®—æ³•](#é¢è¯•å¸¸è€ƒç®—æ³•)

---

## ES1 æ—¶ä»£ï¼ˆ1997 å¹´ï¼‰

### ğŸ“ ES1 æ•°ç»„æ–¹æ³•æ€»è§ˆ

| åŠŸèƒ½åˆ†ç±» | æ–¹æ³•        | è¯­æ³•                                       | å‚æ•°                       | è¿”å›å€¼         | æ”¹å˜åŸæ•°ç»„ | ç”¨é€”         |
| -------- | ----------- | ------------------------------------------ | -------------------------- | -------------- | ---------- | ------------ |
| **å¢åŠ ** | push        | `arr.push(...items)`                       | è¦æ·»åŠ çš„å…ƒç´                | æ–°æ•°ç»„é•¿åº¦     | âœ…         | æœ«å°¾æ·»åŠ      |
| **å¢åŠ ** | unshift     | `arr.unshift(...items)`                    | è¦æ·»åŠ çš„å…ƒç´                | æ–°æ•°ç»„é•¿åº¦     | âœ…         | å¼€å¤´æ·»åŠ      |
| **å¢åŠ ** | splice      | `arr.splice(start, deleteCount, ...items)` | å¼€å§‹ä½ç½®,åˆ é™¤æ•°é‡,æ’å…¥å…ƒç´  | è¢«åˆ é™¤å…ƒç´ æ•°ç»„ | âœ…         | æŒ‡å®šä½ç½®æ·»åŠ  |
| **å¢åŠ ** | concat      | `arr.concat(...items)`                     | è¦æ‹¼æ¥çš„å…ƒç´                | æ–°æ•°ç»„         | âŒ         | æ•°ç»„æ‹¼æ¥     |
| **åˆ é™¤** | pop         | `arr.pop()`                                | æ—                          | è¢«åˆ é™¤çš„å…ƒç´    | âœ…         | åˆ é™¤æœ«å°¾     |
| **åˆ é™¤** | shift       | `arr.shift()`                              | æ—                          | è¢«åˆ é™¤çš„å…ƒç´    | âœ…         | åˆ é™¤å¼€å¤´     |
| **åˆ é™¤** | splice      | `arr.splice(start, deleteCount)`           | å¼€å§‹ä½ç½®,åˆ é™¤æ•°é‡          | è¢«åˆ é™¤å…ƒç´ æ•°ç»„ | âœ…         | æŒ‡å®šä½ç½®åˆ é™¤ |
| **åˆ é™¤** | slice       | `arr.slice(start, end)`                    | å¼€å§‹ä½ç½®,ç»“æŸä½ç½®          | æ–°æ•°ç»„         | âŒ         | æˆªå–ç‰‡æ®µ     |
| **æŸ¥è¯¢** | indexOf     | `arr.indexOf(item, start)`                 | æŸ¥æ‰¾å…ƒç´ ,å¼€å§‹ä½ç½®          | ç´¢å¼•æˆ–-1       | âŒ         | æŸ¥æ‰¾ç´¢å¼•     |
| **æŸ¥è¯¢** | lastIndexOf | `arr.lastIndexOf(item, start)`             | æŸ¥æ‰¾å…ƒç´ ,å¼€å§‹ä½ç½®          | ç´¢å¼•æˆ–-1       | âŒ         | æœ€åæŸ¥æ‰¾     |
| **æ’åº** | sort        | `arr.sort(compareFunction)`                | æ¯”è¾ƒå‡½æ•°                   | æ’åºåçš„æ•°ç»„   | âœ…         | æ•°ç»„æ’åº     |
| **æ’åº** | reverse     | `arr.reverse()`                            | æ—                          | åè½¬åçš„æ•°ç»„   | âœ…         | æ•°ç»„åè½¬     |
| **è½¬æ¢** | join        | `arr.join(separator)`                      | åˆ†éš”ç¬¦                     | å­—ç¬¦ä¸²         | âŒ         | æ•°ç»„è½¬å­—ç¬¦ä¸² |
| **è½¬æ¢** | toString    | `arr.toString()`                           | æ—                          | å­—ç¬¦ä¸²         | âŒ         | æ•°ç»„è½¬å­—ç¬¦ä¸² |

### ğŸ“ ES1 å­—ç¬¦ä¸²æ–¹æ³•æ€»è§ˆ

| åŠŸèƒ½åˆ†ç±» | æ–¹æ³•        | è¯­æ³•                                | å‚æ•°              | è¿”å›å€¼   | æ”¹å˜åŸå­—ç¬¦ä¸² | ç”¨é€”       |
| -------- | ----------- | ----------------------------------- | ----------------- | -------- | ------------ | ---------- |
| **å¢åŠ ** | concat      | `str.concat(...strings)`            | è¦æ‹¼æ¥çš„å­—ç¬¦ä¸²    | æ–°å­—ç¬¦ä¸² | âŒ           | å­—ç¬¦ä¸²æ‹¼æ¥ |
| **åˆ é™¤** | slice       | `str.slice(start, end)`             | å¼€å§‹ä½ç½®,ç»“æŸä½ç½® | æ–°å­—ç¬¦ä¸² | âŒ           | æˆªå–å­—ç¬¦ä¸² |
| **åˆ é™¤** | substring   | `str.substring(start, end)`         | å¼€å§‹ä½ç½®,ç»“æŸä½ç½® | æ–°å­—ç¬¦ä¸² | âŒ           | æˆªå–å­—ç¬¦ä¸² |
| **åˆ é™¤** | substr      | `str.substr(start, length)`         | å¼€å§‹ä½ç½®,é•¿åº¦     | æ–°å­—ç¬¦ä¸² | âŒ           | æˆªå–å­—ç¬¦ä¸² |
| **ä¿®æ”¹** | toUpperCase | `str.toUpperCase()`                 | æ—                 | æ–°å­—ç¬¦ä¸² | âŒ           | è½¬å¤§å†™     |
| **ä¿®æ”¹** | toLowerCase | `str.toLowerCase()`                 | æ—                 | æ–°å­—ç¬¦ä¸² | âŒ           | è½¬å°å†™     |
| **æŸ¥è¯¢** | charAt      | `str.charAt(index)`                 | ç´¢å¼•              | å­—ç¬¦     | âŒ           | è·å–å­—ç¬¦   |
| **æŸ¥è¯¢** | indexOf     | `str.indexOf(substring, start)`     | å­å­—ç¬¦ä¸²,å¼€å§‹ä½ç½® | ç´¢å¼•æˆ–-1 | âŒ           | æŸ¥æ‰¾ç´¢å¼•   |
| **æŸ¥è¯¢** | lastIndexOf | `str.lastIndexOf(substring, start)` | å­å­—ç¬¦ä¸²,å¼€å§‹ä½ç½® | ç´¢å¼•æˆ–-1 | âŒ           | æœ€åæŸ¥æ‰¾   |
| **æŸ¥è¯¢** | charCodeAt  | `str.charCodeAt(index)`             | ç´¢å¼•              | å­—ç¬¦ç    | âŒ           | è·å–å­—ç¬¦ç  |
| **ä¿®æ”¹** | replace     | `str.replace(search, replace)`      | æŸ¥æ‰¾å€¼,æ›¿æ¢å€¼     | æ–°å­—ç¬¦ä¸² | âŒ           | å­—ç¬¦ä¸²æ›¿æ¢ |
| **ä¿®æ”¹** | split       | `str.split(separator, limit)`       | åˆ†éš”ç¬¦,é™åˆ¶æ•°é‡   | æ•°ç»„     | âŒ           | å­—ç¬¦ä¸²åˆ†å‰² |
| **è½¬æ¢** | toString    | `str.toString()`                    | æ—                 | å­—ç¬¦ä¸²   | âŒ           | è½¬å­—ç¬¦ä¸²   |

### ğŸ”§ ES1 è¯¦ç»†æ–¹æ³•è¯´æ˜

#### å¢åŠ æ“ä½œ

**push() - æœ«å°¾æ·»åŠ **

```javascript
// è¯­æ³•ï¼šarr.push(...items)
// å‚æ•°ï¼šè¦æ·»åŠ çš„å…ƒç´ ï¼ˆå¯å¤šä¸ªï¼‰
// è¿”å›å€¼ï¼šæ–°æ•°ç»„é•¿åº¦
// æ”¹å˜åŸæ•°ç»„ï¼šæ˜¯

const arr = [1, 2, 3];
const length = arr.push(4, 5);
console.log(arr); // [1, 2, 3, 4, 5]
console.log(length); // 5

// å®é™…åº”ç”¨ï¼šåŠ¨æ€æ·»åŠ æ•°æ®
function addToCart(cart, item) {
  cart.push(item);
  return cart.length;
}
```

**unshift() - å¼€å¤´æ·»åŠ **

```javascript
// è¯­æ³•ï¼šarr.unshift(...items)
// å‚æ•°ï¼šè¦æ·»åŠ çš„å…ƒç´ ï¼ˆå¯å¤šä¸ªï¼‰
// è¿”å›å€¼ï¼šæ–°æ•°ç»„é•¿åº¦
// æ”¹å˜åŸæ•°ç»„ï¼šæ˜¯

const arr = [2, 3, 4];
const length = arr.unshift(0, 1);
console.log(arr); // [0, 1, 2, 3, 4]
console.log(length); // 5

// å®é™…åº”ç”¨ï¼šä¼˜å…ˆçº§é˜Ÿåˆ—
function addToQueue(queue, item, priority = false) {
  if (priority) {
    queue.unshift(item);
  } else {
    queue.push(item);
  }
}
```

**splice() - æŒ‡å®šä½ç½®æ·»åŠ **

```javascript
// è¯­æ³•ï¼šarr.splice(start, deleteCount, ...items)
// å‚æ•°ï¼šå¼€å§‹ä½ç½®, åˆ é™¤æ•°é‡, æ’å…¥å…ƒç´ 
// è¿”å›å€¼ï¼šè¢«åˆ é™¤å…ƒç´ æ•°ç»„
// æ”¹å˜åŸæ•°ç»„ï¼šæ˜¯

const arr = [1, 5];
const deleted = arr.splice(1, 0, 2, 3, 4);
console.log(arr); // [1, 2, 3, 4, 5]
console.log(deleted); // []

// å®é™…åº”ç”¨ï¼šæ•°ç»„ä¸­é—´æ’å…¥
function insertAt(array, index, ...items) {
  array.splice(index, 0, ...items);
  return array;
}
```

**concat() - æ•°ç»„æ‹¼æ¥**

```javascript
// è¯­æ³•ï¼šarr.concat(...items)
// å‚æ•°ï¼šè¦æ‹¼æ¥çš„å…ƒç´ ï¼ˆæ•°ç»„ä¼šè¢«å±•å¼€ï¼‰
// è¿”å›å€¼ï¼šæ–°æ•°ç»„
// æ”¹å˜åŸæ•°ç»„ï¼šå¦

const arr1 = [1, 2];
const arr2 = [3, 4];
const result = arr1.concat(arr2, 5, [6, 7]);
console.log(result); // [1, 2, 3, 4, 5, 6, 7]
console.log(arr1); // [1, 2] (åŸæ•°ç»„ä¸å˜)

// å®é™…åº”ç”¨ï¼šåˆå¹¶å¤šä¸ªæ•°ç»„
function mergeArrays(...arrays) {
  return [].concat(...arrays);
}
```

#### åˆ é™¤æ“ä½œ

**pop() - åˆ é™¤æœ«å°¾å…ƒç´ **

```javascript
// è¯­æ³•ï¼šarr.pop()
// å‚æ•°ï¼šæ— 
// è¿”å›å€¼ï¼šè¢«åˆ é™¤çš„å…ƒç´ 
// æ”¹å˜åŸæ•°ç»„ï¼šæ˜¯

const arr = [1, 2, 3, 4];
const last = arr.pop();
console.log(arr); // [1, 2, 3]
console.log(last); // 4

// å®é™…åº”ç”¨ï¼šæ ˆæ“ä½œ
class Stack {
  constructor() {
    this.items = [];
  }

  push(item) {
    this.items.push(item);
  }

  pop() {
    return this.items.pop();
  }
}
```

**shift() - åˆ é™¤å¼€å¤´å…ƒç´ **

```javascript
// è¯­æ³•ï¼šarr.shift()
// å‚æ•°ï¼šæ— 
// è¿”å›å€¼ï¼šè¢«åˆ é™¤çš„å…ƒç´ 
// æ”¹å˜åŸæ•°ç»„ï¼šæ˜¯

const arr = [1, 2, 3, 4];
const first = arr.shift();
console.log(arr); // [2, 3, 4]
console.log(first); // 1

// å®é™…åº”ç”¨ï¼šé˜Ÿåˆ—æ“ä½œ
class Queue {
  constructor() {
    this.items = [];
  }

  enqueue(item) {
    this.items.push(item);
  }

  dequeue() {
    return this.items.shift();
  }
}
```

**slice() - æˆªå–æ•°ç»„ç‰‡æ®µ**

```javascript
// è¯­æ³•ï¼šarr.slice(start, end)
// å‚æ•°ï¼šå¼€å§‹ä½ç½®, ç»“æŸä½ç½®ï¼ˆä¸åŒ…å«ï¼‰
// è¿”å›å€¼ï¼šæ–°æ•°ç»„
// æ”¹å˜åŸæ•°ç»„ï¼šå¦

const arr = [1, 2, 3, 4, 5];
const slice1 = arr.slice(1, 3); // [2, 3]
const slice2 = arr.slice(2); // [3, 4, 5]
const slice3 = arr.slice(-2); // [4, 5]
const slice4 = arr.slice(); // [1, 2, 3, 4, 5] (æµ…æ‹·è´)

// å®é™…åº”ç”¨ï¼šæ•°ç»„åˆ†é¡µ
function paginate(array, page, pageSize) {
  const start = (page - 1) * pageSize;
  const end = start + pageSize;
  return array.slice(start, end);
}
```

#### æŸ¥è¯¢æ“ä½œ

**indexOf() - æŸ¥æ‰¾å…ƒç´ ç´¢å¼•**

```javascript
// è¯­æ³•ï¼šarr.indexOf(item, start)
// å‚æ•°ï¼šæŸ¥æ‰¾å…ƒç´ , å¼€å§‹ä½ç½®
// è¿”å›å€¼ï¼šç´¢å¼•æˆ–-1
// æ”¹å˜åŸæ•°ç»„ï¼šå¦

const arr = ["a", "b", "c", "b"];
console.log(arr.indexOf("b")); // 1
console.log(arr.indexOf("b", 2)); // 3
console.log(arr.indexOf("d")); // -1

// å®é™…åº”ç”¨ï¼šæ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨
function hasItem(array, item) {
  return array.indexOf(item) !== -1;
}
```

**includes() - æ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨**

> **ğŸ¯ è§£å†³çš„é—®é¢˜**ï¼šè§£å†³äº† `indexOf()` æ— æ³•æ­£ç¡®å¤„ç† `NaN` çš„é—®é¢˜ï¼Œæä¾›æ›´å¯é çš„åŒ…å«æ£€æŸ¥ï¼Œé¿å… `NaN === NaN` è¿”å› `false` çš„é™·é˜±ã€‚

```javascript
// è¯­æ³•ï¼šarr.includes(item, start)
// å‚æ•°ï¼šæŸ¥æ‰¾å…ƒç´ , å¼€å§‹ä½ç½®
// è¿”å›å€¼ï¼šå¸ƒå°”å€¼
// æ”¹å˜åŸæ•°ç»„ï¼šå¦

const arr = [1, 2, 3, NaN];
console.log(arr.includes(2)); // true
console.log(arr.includes(2, 2)); // false
console.log(arr.includes(NaN)); // true (indexOfæ— æ³•æ‰¾åˆ°NaN)

// å®é™…åº”ç”¨ï¼šæƒé™æ£€æŸ¥
function hasPermission(user, permission) {
  return user.permissions.includes(permission);
}
```

**find() - æŸ¥æ‰¾ç¬¬ä¸€ä¸ªåŒ¹é…å…ƒç´ **

```javascript
// è¯­æ³•ï¼šarr.find(callback)
// å‚æ•°ï¼šå›è°ƒå‡½æ•° (item, index, array) => boolean
// è¿”å›å€¼ï¼šæ‰¾åˆ°çš„å…ƒç´ æˆ–undefined
// æ”¹å˜åŸæ•°ç»„ï¼šå¦

const users = [
  { id: 1, name: "å¼ ä¸‰", age: 25 },
  { id: 2, name: "æå››", age: 30 },
  { id: 3, name: "ç‹äº”", age: 35 },
];

const user = users.find((u) => u.age > 28);
console.log(user); // { id: 2, name: 'æå››', age: 30 }

// å®é™…åº”ç”¨ï¼šæŸ¥æ‰¾ç”¨æˆ·
function findUser(users, userId) {
  return users.find((user) => user.id === userId);
}
```

**findIndex() - æŸ¥æ‰¾ç¬¬ä¸€ä¸ªåŒ¹é…å…ƒç´ çš„ç´¢å¼•**

```javascript
// è¯­æ³•ï¼šarr.findIndex(callback)
// å‚æ•°ï¼šå›è°ƒå‡½æ•° (item, index, array) => boolean
// è¿”å›å€¼ï¼šæ‰¾åˆ°çš„ç´¢å¼•æˆ–-1
// æ”¹å˜åŸæ•°ç»„ï¼šå¦

const users = [
  { id: 1, name: "å¼ ä¸‰", age: 25 },
  { id: 2, name: "æå››", age: 30 },
  { id: 3, name: "ç‹äº”", age: 35 },
];

const index = users.findIndex((u) => u.name === "æå››");
console.log(index); // 1

// å®é™…åº”ç”¨ï¼šæ›´æ–°ç”¨æˆ·ä¿¡æ¯
function updateUser(users, userId, updates) {
  const index = users.findIndex((user) => user.id === userId);
  if (index !== -1) {
    users[index] = { ...users[index], ...updates };
  }
  return users;
}
```

**lastIndexOf() - æŸ¥æ‰¾æœ€åä¸€ä¸ªåŒ¹é…å…ƒç´ çš„ç´¢å¼•ï¼Œä»å³å¾€å·¦æœç´¢**

```javascript
// è¯­æ³•ï¼šarr.lastIndexOf(item, start)
// å‚æ•°ï¼šæŸ¥æ‰¾å…ƒç´ , å¼€å§‹ä½ç½®
// è¿”å›å€¼ï¼šç´¢å¼•æˆ–-1
// æ”¹å˜åŸæ•°ç»„ï¼šå¦

const arr = ["a", "b", "c", "b", "a"];
console.log(arr.lastIndexOf("b")); // 3
console.log(arr.lastIndexOf("b", 2)); // 1
console.log(arr.lastIndexOf("d")); // -1

// å®é™…åº”ç”¨ï¼šæŸ¥æ‰¾æœ€åä¸€ä¸ªåŒ¹é…é¡¹
function findLastMatch(array, item) {
  return array.lastIndexOf(item);
}
```

**sort() - æ•°ç»„æ’åº**

```javascript
// è¯­æ³•ï¼šarr.sort(compareFunction)
// å‚æ•°ï¼šæ¯”è¾ƒå‡½æ•°
// è¿”å›å€¼ï¼šæ’åºåçš„æ•°ç»„
// æ”¹å˜åŸæ•°ç»„ï¼šæ˜¯

const numbers = [3, 1, 4, 1, 5];
numbers.sort((a, b) => a - b);
console.log(numbers); // [1, 1, 3, 4, 5]

// å®é™…åº”ç”¨ï¼šå¯¹è±¡æ•°ç»„æ’åº
const users = [
  { name: "å¼ ä¸‰", age: 25 },
  { name: "æå››", age: 30 },
  { name: "ç‹äº”", age: 20 },
];
users.sort((a, b) => a.age - b.age);
console.log(users); // æŒ‰å¹´é¾„æ’åº
```

**reverse() - æ•°ç»„åè½¬**

```javascript
// è¯­æ³•ï¼šarr.reverse()
// å‚æ•°ï¼šæ— 
// è¿”å›å€¼ï¼šåè½¬åçš„æ•°ç»„
// æ”¹å˜åŸæ•°ç»„ï¼šæ˜¯

const arr = [1, 2, 3, 4, 5];
arr.reverse();
console.log(arr); // [5, 4, 3, 2, 1]

// å®é™…åº”ç”¨ï¼šåè½¬å­—ç¬¦ä¸²
function reverseString(str) {
  return str.split("").reverse().join("");
}
```

**join() - æ•°ç»„è¿æ¥**

```javascript
// è¯­æ³•ï¼šarr.join(separator)
// å‚æ•°ï¼šåˆ†éš”ç¬¦
// è¿”å›å€¼ï¼šå­—ç¬¦ä¸²
// æ”¹å˜åŸæ•°ç»„ï¼šå¦

const arr = [1, 2, 3, 4, 5];
console.log(arr.join()); // '1,2,3,4,5'
console.log(arr.join("-")); // '1-2-3-4-5'
console.log(arr.join("")); // '12345'

// å®é™…åº”ç”¨ï¼šæ„å»ºæŸ¥è¯¢å­—ç¬¦ä¸²
function buildQueryString(params) {
  return Object.entries(params)
    .map(([key, value]) => `${key}=${value}`)
    .join("&");
}
```

**toString() - æ•°ç»„è½¬å­—ç¬¦ä¸²**

```javascript
// è¯­æ³•ï¼šarr.toString()
// å‚æ•°ï¼šæ— 
// è¿”å›å€¼ï¼šå­—ç¬¦ä¸²
// æ”¹å˜åŸæ•°ç»„ï¼šå¦

const arr = [1, 2, 3, 4, 5];
console.log(arr.toString()); // '1,2,3,4,5'

// å®é™…åº”ç”¨ï¼šæ•°ç»„åºåˆ—åŒ–
function serializeArray(array) {
  return array.toString();
}
```

---

## ES5 æ—¶ä»£ï¼ˆ2009 å¹´ï¼‰

> **ğŸ¯ è§£å†³çš„é—®é¢˜**ï¼šES5 ä¸»è¦è§£å†³äº†å‡½æ•°å¼ç¼–ç¨‹çš„éœ€æ±‚ï¼Œæä¾›äº†æ›´å¼ºå¤§çš„æ•°ç»„éå†å’Œæ“ä½œæ–¹æ³•ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿæ›´ä¼˜é›…åœ°å¤„ç†æ•°ç»„æ•°æ®ï¼Œé¿å…ä½¿ç”¨ä¼ ç»Ÿçš„ for å¾ªç¯ã€‚

### ğŸ“ ES5 æ•°ç»„æ–¹æ³•æ€»è§ˆ

| åŠŸèƒ½åˆ†ç±» | æ–¹æ³•          | è¯­æ³•                                 | å‚æ•°            | è¿”å›å€¼    | æ”¹å˜åŸæ•°ç»„ | ç”¨é€”           |
| -------- | ------------- | ------------------------------------ | --------------- | --------- | ---------- | -------------- |
| **æŸ¥è¯¢** | forEach       | `arr.forEach(callback)`              | å›è°ƒå‡½æ•°        | undefined | âŒ         | éå†æ‰§è¡Œ       |
| **è½¬æ¢** | map           | `arr.map(callback)`                  | å›è°ƒå‡½æ•°        | æ–°æ•°ç»„    | âŒ         | æ•°æ®è½¬æ¢       |
| **æŸ¥è¯¢** | filter        | `arr.filter(callback)`               | å›è°ƒå‡½æ•°        | æ–°æ•°ç»„    | âŒ         | æ•°æ®ç­›é€‰       |
| **è½¬æ¢** | reduce        | `arr.reduce(callback, initial)`      | å›è°ƒå‡½æ•°,åˆå§‹å€¼ | ç´¯ç§¯å€¼    | âŒ         | æ•°æ®èšåˆ       |
| **æŸ¥è¯¢** | some          | `arr.some(callback)`                 | å›è°ƒå‡½æ•°        | å¸ƒå°”å€¼    | âŒ         | å­˜åœ¨æ€§æ£€æŸ¥     |
| **æŸ¥è¯¢** | every         | `arr.every(callback)`                | å›è°ƒå‡½æ•°        | å¸ƒå°”å€¼    | âŒ         | å…¨éƒ¨æ€§æ£€æŸ¥     |
| **è½¬æ¢** | reduceRight   | `arr.reduceRight(callback, initial)` | å›è°ƒå‡½æ•°,åˆå§‹å€¼ | ç´¯ç§¯å€¼    | âŒ         | ä»å³èšåˆ       |
| **é™æ€** | Array.isArray | `Array.isArray(value)`               | è¦æ£€æŸ¥çš„å€¼      | å¸ƒå°”å€¼    | âŒ         | æ£€æŸ¥æ˜¯å¦ä¸ºæ•°ç»„ |

### ğŸ“ ES5 å­—ç¬¦ä¸²æ–¹æ³•æ€»è§ˆ

| åŠŸèƒ½åˆ†ç±» | æ–¹æ³•                | è¯­æ³•                            | å‚æ•°       | è¿”å›å€¼   | æ”¹å˜åŸå­—ç¬¦ä¸² | ç”¨é€”           |
| -------- | ------------------- | ------------------------------- | ---------- | -------- | ------------ | -------------- |
| **ä¿®æ”¹** | trim                | `str.trim()`                    | æ—          | æ–°å­—ç¬¦ä¸² | âŒ           | å»é™¤é¦–å°¾ç©ºæ ¼   |
| **é™æ€** | String.fromCharCode | `String.fromCharCode(...codes)` | å­—ç¬¦ç åˆ—è¡¨ | å­—ç¬¦ä¸²   | âŒ           | å­—ç¬¦ç è½¬å­—ç¬¦ä¸² |

### ğŸ”§ ES5 è¯¦ç»†æ–¹æ³•è¯´æ˜

#### æ•°ç»„è¿­ä»£æ–¹æ³•

**forEach() - éå†æ‰§è¡Œ**

> **ğŸ¯ è§£å†³çš„é—®é¢˜**ï¼šæ›¿ä»£ä¼ ç»Ÿçš„ for å¾ªç¯ï¼Œæä¾›æ›´ç®€æ´çš„æ•°ç»„éå†æ–¹å¼ï¼Œé¿å…æ‰‹åŠ¨ç®¡ç†ç´¢å¼•ï¼Œå‡å°‘å‡ºé”™æ¦‚ç‡ã€‚

```javascript
// è¯­æ³•ï¼šarr.forEach(callback)
// å‚æ•°ï¼šå›è°ƒå‡½æ•° (item, index, array) => void
// è¿”å›å€¼ï¼šundefined
// æ”¹å˜åŸæ•°ç»„ï¼šå¦

const arr = [1, 2, 3, 4, 5];
arr.forEach((item, index) => {
  console.log(`ç´¢å¼•${index}: ${item}`);
});

// å®é™…åº”ç”¨ï¼šDOMæ“ä½œ
function renderList(items, container) {
  container.innerHTML = "";
  items.forEach((item) => {
    const li = document.createElement("li");
    li.textContent = item.name;
    container.appendChild(li);
  });
}
```

**map() - æ•°æ®è½¬æ¢**

> **ğŸ¯ è§£å†³çš„é—®é¢˜**ï¼šæä¾›å‡½æ•°å¼çš„æ•°æ®è½¬æ¢æ–¹å¼ï¼Œé¿å…æ‰‹åŠ¨åˆ›å»ºæ–°æ•°ç»„å’Œå¾ªç¯ï¼Œè®©æ•°æ®æ˜ å°„æ“ä½œæ›´åŠ ç®€æ´å’Œå¯è¯»ã€‚

```javascript
// è¯­æ³•ï¼šarr.map(callback)
// å‚æ•°ï¼šå›è°ƒå‡½æ•° (item, index, array) => newItem
// è¿”å›å€¼ï¼šæ–°æ•°ç»„
// æ”¹å˜åŸæ•°ç»„ï¼šå¦

const numbers = [1, 2, 3, 4, 5];
const doubled = numbers.map((n) => n * 2);
console.log(doubled); // [2, 4, 6, 8, 10]

// å®é™…åº”ç”¨ï¼šæ•°æ®æ ¼å¼åŒ–
function formatUsers(users) {
  return users.map((user) => ({
    ...user,
    displayName: `${user.firstName} ${user.lastName}`,
    isAdult: user.age >= 18,
  }));
}
```

**filter() - æ•°æ®ç­›é€‰**

> **ğŸ¯ è§£å†³çš„é—®é¢˜**ï¼šæä¾›å£°æ˜å¼çš„æ•°æ®è¿‡æ»¤æ–¹å¼ï¼Œé¿å…æ‰‹åŠ¨å¾ªç¯å’Œæ¡ä»¶åˆ¤æ–­ï¼Œè®©æ•°æ®ç­›é€‰é€»è¾‘æ›´åŠ æ¸…æ™°å’Œå¯ç»´æŠ¤ã€‚

```javascript
// è¯­æ³•ï¼šarr.filter(callback)
// å‚æ•°ï¼šå›è°ƒå‡½æ•° (item, index, array) => boolean
// è¿”å›å€¼ï¼šæ–°æ•°ç»„
// æ”¹å˜åŸæ•°ç»„ï¼šå¦

const numbers = [1, 2, 3, 4, 5, 6];
const evens = numbers.filter((n) => n % 2 === 0);
console.log(evens); // [2, 4, 6]

// å®é™…åº”ç”¨ï¼šæ•°æ®è¿‡æ»¤
function getActiveUsers(users) {
  return users.filter(
    (user) =>
      user.isActive && user.lastLogin > Date.now() - 7 * 24 * 60 * 60 * 1000
  );
}
```

**reduce() - æ•°æ®èšåˆ**

```javascript
// è¯­æ³•ï¼šarr.reduce(callback, initialValue)
// å‚æ•°ï¼šå›è°ƒå‡½æ•° (accumulator, item, index, array) => newAccumulator, åˆå§‹å€¼
// è¿”å›å€¼ï¼šç´¯ç§¯å€¼
// æ”¹å˜åŸæ•°ç»„ï¼šå¦

const numbers = [1, 2, 3, 4, 5];
const sum = numbers.reduce((acc, n) => acc + n, 0);
console.log(sum); // 15

// å®é™…åº”ç”¨ï¼šæ•°æ®ç»Ÿè®¡
function getStats(orders) {
  return orders.reduce(
    (stats, order) => {
      stats.total += order.amount;
      stats.count++;
      stats.average = stats.total / stats.count;
      return stats;
    },
    { total: 0, count: 0, average: 0 }
  );
}
```

**some() - å­˜åœ¨æ€§æ£€æŸ¥**

```javascript
// è¯­æ³•ï¼šarr.some(callback)
// å‚æ•°ï¼šå›è°ƒå‡½æ•° (item, index, array) => boolean
// è¿”å›å€¼ï¼šå¸ƒå°”å€¼
// æ”¹å˜åŸæ•°ç»„ï¼šå¦

const numbers = [1, 2, 3, 4, 5];
const hasEven = numbers.some((n) => n % 2 === 0);
console.log(hasEven); // true

// å®é™…åº”ç”¨ï¼šæƒé™æ£€æŸ¥
function hasAnyPermission(user, permissions) {
  return permissions.some((permission) =>
    user.permissions.includes(permission)
  );
}
```

**every() - å…¨éƒ¨æ€§æ£€æŸ¥**

```javascript
// è¯­æ³•ï¼šarr.every(callback)
// å‚æ•°ï¼šå›è°ƒå‡½æ•° (item, index, array) => boolean
// è¿”å›å€¼ï¼šå¸ƒå°”å€¼
// æ”¹å˜åŸæ•°ç»„ï¼šå¦

const numbers = [2, 4, 6, 8];
const allEven = numbers.every((n) => n % 2 === 0);
console.log(allEven); // true

// å®é™…åº”ç”¨ï¼šè¡¨å•éªŒè¯
function validateForm(formData) {
  const requiredFields = ["name", "email", "phone"];
  return requiredFields.every(
    (field) => formData[field] && formData[field].trim() !== ""
  );
}
```

**reduceRight() - ä»å³åˆ°å·¦æ•°æ®èšåˆ**

```javascript
// è¯­æ³•ï¼šarr.reduceRight(callback, initialValue)
// å‚æ•°ï¼šå›è°ƒå‡½æ•° (accumulator, item, index, array) => newAccumulator, åˆå§‹å€¼
// è¿”å›å€¼ï¼šç´¯ç§¯å€¼
// æ”¹å˜åŸæ•°ç»„ï¼šå¦

const numbers = [1, 2, 3, 4, 5];
const result = numbers.reduceRight((acc, n) => acc - n, 0);
console.log(result); // -15 (0-5-4-3-2-1)

// å®é™…åº”ç”¨ï¼šä»å³åˆ°å·¦å¤„ç†æ•°æ®
function processFromRight(array) {
  return array.reduceRight((acc, item) => {
    acc.push(item * 2);
    return acc;
  }, []);
}
```

#### æ•°ç»„é™æ€æ–¹æ³•

**Array.isArray() - æ£€æŸ¥æ˜¯å¦ä¸ºæ•°ç»„**

```javascript
// è¯­æ³•ï¼šArray.isArray(value)
// å‚æ•°ï¼šè¦æ£€æŸ¥çš„å€¼
// è¿”å›å€¼ï¼šå¸ƒå°”å€¼

console.log(Array.isArray([1, 2, 3])); // true
console.log(Array.isArray("hello")); // false
console.log(Array.isArray(null)); // false
console.log(Array.isArray(undefined)); // false

// å®é™…åº”ç”¨ï¼šç±»å‹æ£€æŸ¥
function processData(data) {
  if (Array.isArray(data)) {
    return data.map((item) => item * 2);
  }
  return [data];
}
```

#### å­—ç¬¦ä¸²æ–¹æ³•

**trim() - å»é™¤é¦–å°¾ç©ºæ ¼**

```javascript
// è¯­æ³•ï¼šstr.trim()
// å‚æ•°ï¼šæ— 
// è¿”å›å€¼ï¼šæ–°å­—ç¬¦ä¸²
// æ”¹å˜åŸå­—ç¬¦ä¸²ï¼šå¦

const str = "  Hello World  ";
const trimmed = str.trim();
console.log(trimmed); // 'Hello World'

// å®é™…åº”ç”¨ï¼šè¡¨å•æ•°æ®æ¸…ç†
function cleanFormData(data) {
  return Object.keys(data).reduce((cleaned, key) => {
    cleaned[key] = data[key].trim();
    return cleaned;
  }, {});
}
```

**String.fromCharCode() - å­—ç¬¦ç è½¬å­—ç¬¦ä¸²**

```javascript
// è¯­æ³•ï¼šString.fromCharCode(...codes)
// å‚æ•°ï¼šå­—ç¬¦ç åˆ—è¡¨
// è¿”å›å€¼ï¼šå­—ç¬¦ä¸²

console.log(String.fromCharCode(65, 66, 67)); // 'ABC'
console.log(String.fromCharCode(97, 98, 99)); // 'abc'
console.log(String.fromCharCode(8364)); // 'â‚¬'

// å®é™…åº”ç”¨ï¼šç”Ÿæˆéšæœºå­—ç¬¦ä¸²
function generateRandomString(length) {
  let result = "";
  for (let i = 0; i < length; i++) {
    const randomCode = Math.floor(Math.random() * 26) + 97; // a-z
    result += String.fromCharCode(randomCode);
  }
  return result;
}
```

---

## ES2015/ES6 æ—¶ä»£ï¼ˆ2015 å¹´ï¼‰

> **ğŸ¯ è§£å†³çš„é—®é¢˜**ï¼šES6 æ˜¯ JavaScript çš„é‡å¤§æ›´æ–°ï¼Œè§£å†³äº†æ¨¡å—åŒ–ã€å¼‚æ­¥ç¼–ç¨‹ã€ç±»å‹å®‰å…¨ç­‰é—®é¢˜ã€‚æ–°å¢çš„æ•°ç»„å’Œå­—ç¬¦ä¸²æ–¹æ³•è®©ä»£ç æ›´ç®€æ´ã€æ›´æ˜“è¯»ï¼ŒåŒæ—¶æä¾›äº†æ›´å¥½çš„æ€§èƒ½ã€‚

### ğŸ“ ES6 æ•°ç»„æ–¹æ³•æ€»è§ˆ

| åŠŸèƒ½åˆ†ç±» | æ–¹æ³•       | è¯­æ³•                                 | å‚æ•°                       | è¿”å›å€¼                 | æ”¹å˜åŸæ•°ç»„ | ç”¨é€”                   |
| -------- | ---------- | ------------------------------------ | -------------------------- | ---------------------- | ---------- | ---------------------- |
| **é™æ€** | Array.from | `Array.from(arrayLike, mapFn)`       | ç±»æ•°ç»„å¯¹è±¡,æ˜ å°„å‡½æ•°        | æ–°æ•°ç»„                 | âŒ         | ç±»æ•°ç»„è½¬æ•°ç»„           |
| **é™æ€** | Array.of   | `Array.of(...elements)`              | å…ƒç´ åˆ—è¡¨                   | æ–°æ•°ç»„                 | âŒ         | åˆ›å»ºæ•°ç»„               |
| **ä¿®æ”¹** | fill       | `arr.fill(value, start, end)`        | å¡«å……å€¼,å¼€å§‹ä½ç½®,ç»“æŸä½ç½®   | å¡«å……åçš„æ•°ç»„           | âœ…         | å¡«å……æ•°ç»„               |
| **ä¿®æ”¹** | copyWithin | `arr.copyWithin(target, start, end)` | ç›®æ ‡ä½ç½®,å¼€å§‹ä½ç½®,ç»“æŸä½ç½® | å¤åˆ¶åçš„æ•°ç»„           | âœ…         | å†…éƒ¨å¤åˆ¶               |
| **æŸ¥è¯¢** | keys       | `arr.keys()`                         | æ—                          | è¿­ä»£å™¨                 | âŒ         | ç´¢å¼•è¿­ä»£å™¨             |
| **æŸ¥è¯¢** | values     | `arr.values()`                       | æ—                          | è¿­ä»£å™¨                 | âŒ         | å€¼è¿­ä»£å™¨               |
| **æŸ¥è¯¢** | entries    | `arr.entries()`                      | æ—                          | è¿­ä»£å™¨                 | âŒ         | é”®å€¼å¯¹è¿­ä»£å™¨           |
| **æŸ¥è¯¢** | find       | `arr.find(callback)`                 | å›è°ƒå‡½æ•°                   | æ‰¾åˆ°çš„å…ƒç´ æˆ– undefined | âŒ         | æŸ¥æ‰¾ç¬¬ä¸€ä¸ªåŒ¹é…å…ƒç´      |
| **æŸ¥è¯¢** | findIndex  | `arr.findIndex(callback)`            | å›è°ƒå‡½æ•°                   | æ‰¾åˆ°çš„ç´¢å¼•æˆ–-1         | âŒ         | æŸ¥æ‰¾ç¬¬ä¸€ä¸ªåŒ¹é…å…ƒç´ ç´¢å¼• |

### ğŸ“ ES6 å­—ç¬¦ä¸²æ–¹æ³•æ€»è§ˆ

| åŠŸèƒ½åˆ†ç±» | æ–¹æ³•                 | è¯­æ³•                                     | å‚æ•°              | è¿”å›å€¼   | å…¼å®¹æ€§ | ç”¨é€”         |
| -------- | -------------------- | ---------------------------------------- | ----------------- | -------- | ------ | ------------ |
| **ä¿®æ”¹** | æ¨¡æ¿å­—ç¬¦ä¸²           | `` `string ${expr}` ``                   | è¡¨è¾¾å¼            | æ–°å­—ç¬¦ä¸² | ES2015 | å­—ç¬¦ä¸²æ’å€¼   |
| **æŸ¥è¯¢** | startsWith           | `str.startsWith(substring, start)`       | å­å­—ç¬¦ä¸²,å¼€å§‹ä½ç½® | å¸ƒå°”å€¼   | ES2015 | å¼€å¤´æ£€æŸ¥     |
| **æŸ¥è¯¢** | endsWith             | `str.endsWith(substring, end)`           | å­å­—ç¬¦ä¸²,ç»“æŸä½ç½® | å¸ƒå°”å€¼   | ES2015 | ç»“å°¾æ£€æŸ¥     |
| **ä¿®æ”¹** | repeat               | `str.repeat(count)`                      | é‡å¤æ¬¡æ•°          | æ–°å­—ç¬¦ä¸² | ES2015 | é‡å¤å­—ç¬¦ä¸²   |
| **é™æ€** | String.fromCodePoint | `String.fromCodePoint(...codes)`         | ç ç‚¹åˆ—è¡¨          | å­—ç¬¦ä¸²   | ES2015 | ç ç‚¹è½¬å­—ç¬¦ä¸² |
| **é™æ€** | String.raw           | `String.raw(template, ...substitutions)` | æ¨¡æ¿,æ›¿æ¢å€¼       | å­—ç¬¦ä¸²   | ES2015 | åŸå§‹å­—ç¬¦ä¸²   |

### ğŸ”§ ES6 è¯¦ç»†æ–¹æ³•è¯´æ˜

#### æ•°ç»„é™æ€æ–¹æ³•

**Array.from() - ç±»æ•°ç»„è½¬æ•°ç»„**

> **ğŸ¯ è§£å†³çš„é—®é¢˜**ï¼šè§£å†³äº†ç±»æ•°ç»„å¯¹è±¡ï¼ˆå¦‚ NodeListã€argumentsï¼‰æ— æ³•ä½¿ç”¨æ•°ç»„æ–¹æ³•çš„é—®é¢˜ï¼Œè®© DOM æ“ä½œå’Œå‡½æ•°å‚æ•°å¤„ç†æ›´åŠ ä¾¿æ·ã€‚

```javascript
// è¯­æ³•ï¼šArray.from(arrayLike, mapFn)
// å‚æ•°ï¼šç±»æ•°ç»„å¯¹è±¡, æ˜ å°„å‡½æ•°
// è¿”å›å€¼ï¼šæ–°æ•°ç»„
// æ”¹å˜åŸæ•°ç»„ï¼šå¦

const nodeList = document.querySelectorAll("div");
const divArray = Array.from(nodeList);
console.log(divArray); // [div, div, div, ...]

// å®é™…åº”ç”¨ï¼šè½¬æ¢Set/Map
const set = new Set([1, 2, 3, 4, 5]);
const array = Array.from(set);
console.log(array); // [1, 2, 3, 4, 5]

// å¸¦æ˜ å°„å‡½æ•°
const doubled = Array.from([1, 2, 3], (x) => x * 2);
console.log(doubled); // [2, 4, 6]
```

**Array.of() - åˆ›å»ºæ•°ç»„**

```javascript
// è¯­æ³•ï¼šArray.of(...elements)
// å‚æ•°ï¼šå…ƒç´ åˆ—è¡¨
// è¿”å›å€¼ï¼šæ–°æ•°ç»„
// æ”¹å˜åŸæ•°ç»„ï¼šå¦

const arr1 = Array.of(1, 2, 3);
console.log(arr1); // [1, 2, 3]

const arr2 = Array.of(7);
console.log(arr2); // [7] (ä¸æ˜¯é•¿åº¦ä¸º7çš„æ•°ç»„)

// å®é™…åº”ç”¨ï¼šé¿å…Arrayæ„é€ å‡½æ•°çš„é™·é˜±
const bad = new Array(3); // [empty Ã— 3]
const good = Array.of(3); // [3]
```

#### æ•°ç»„å®ä¾‹æ–¹æ³•

**fill() - å¡«å……æ•°ç»„**

```javascript
// è¯­æ³•ï¼šarr.fill(value, start, end)
// å‚æ•°ï¼šå¡«å……å€¼, å¼€å§‹ä½ç½®, ç»“æŸä½ç½®
// è¿”å›å€¼ï¼šå¡«å……åçš„æ•°ç»„
// æ”¹å˜åŸæ•°ç»„ï¼šæ˜¯

const arr = [1, 2, 3, 4, 5];
arr.fill(0, 1, 3);
console.log(arr); // [1, 0, 0, 4, 5]

// å®é™…åº”ç”¨ï¼šåˆå§‹åŒ–æ•°ç»„
function createMatrix(rows, cols, defaultValue = 0) {
  return Array(rows)
    .fill()
    .map(() => Array(cols).fill(defaultValue));
}
```

**copyWithin() - å†…éƒ¨å¤åˆ¶**

```javascript
// è¯­æ³•ï¼šarr.copyWithin(target, start, end)
// å‚æ•°ï¼šç›®æ ‡ä½ç½®, å¼€å§‹ä½ç½®, ç»“æŸä½ç½®
// è¿”å›å€¼ï¼šå¤åˆ¶åçš„æ•°ç»„
// æ”¹å˜åŸæ•°ç»„ï¼šæ˜¯

const arr = [1, 2, 3, 4, 5];
arr.copyWithin(0, 3, 5);
console.log(arr); // [4, 5, 3, 4, 5]

// å®é™…åº”ç”¨ï¼šæ•°ç»„é‡æ’
function shiftArray(arr, positions) {
  const result = [...arr];
  return result.copyWithin(0, positions);
}
```

#### å­—ç¬¦ä¸²æ–¹æ³•

**æ¨¡æ¿å­—ç¬¦ä¸² - å­—ç¬¦ä¸²æ’å€¼**

```javascript
// è¯­æ³•ï¼š`string ${expression}`
// å‚æ•°ï¼šè¡¨è¾¾å¼
// è¿”å›å€¼ï¼šæ–°å­—ç¬¦ä¸²

const name = "å¼ ä¸‰";
const age = 25;
const message = `ä½ å¥½ï¼Œæˆ‘æ˜¯${name}ï¼Œä»Šå¹´${age}å²`;
console.log(message); // 'ä½ å¥½ï¼Œæˆ‘æ˜¯å¼ ä¸‰ï¼Œä»Šå¹´25å²'

// å®é™…åº”ç”¨ï¼šHTMLæ¨¡æ¿
function createUserCard(user) {
  return `
    <div class="user-card">
      <h3>${user.name}</h3>
      <p>å¹´é¾„: ${user.age}</p>
      <p>é‚®ç®±: ${user.email}</p>
    </div>
  `;
}
```

**startsWith() - å¼€å¤´æ£€æŸ¥**

```javascript
// è¯­æ³•ï¼šstr.startsWith(substring, start)
// å‚æ•°ï¼šå­å­—ç¬¦ä¸²,å¼€å§‹ä½ç½®
// è¿”å›å€¼ï¼šå¸ƒå°”å€¼

const str = "Hello World";
console.log(str.startsWith("Hello")); // true
console.log(str.startsWith("World", 6)); // true

// å®é™…åº”ç”¨ï¼šURLæ£€æŸ¥
function isSecureUrl(url) {
  return url.startsWith("https://");
}
```

**endsWith() - ç»“å°¾æ£€æŸ¥**

```javascript
// è¯­æ³•ï¼šstr.endsWith(substring, end)
// å‚æ•°ï¼šå­å­—ç¬¦ä¸²,ç»“æŸä½ç½®
// è¿”å›å€¼ï¼šå¸ƒå°”å€¼

const str = "Hello World";
console.log(str.endsWith("World")); // true
console.log(str.endsWith("Hello", 5)); // true

// å®é™…åº”ç”¨ï¼šæ–‡ä»¶ç±»å‹æ£€æŸ¥
function isImageFile(filename) {
  return (
    filename.toLowerCase().endsWith(".jpg") ||
    filename.toLowerCase().endsWith(".png")
  );
}
```

**repeat() - é‡å¤å­—ç¬¦ä¸²**

```javascript
// è¯­æ³•ï¼šstr.repeat(count)
// å‚æ•°ï¼šé‡å¤æ¬¡æ•°
// è¿”å›å€¼ï¼šæ–°å­—ç¬¦ä¸²

const str = "Hello";
console.log(str.repeat(3)); // 'HelloHelloHello'

// å®é™…åº”ç”¨ï¼šç”Ÿæˆåˆ†éš”çº¿
function createSeparator(char = "-", length = 20) {
  return char.repeat(length);
}
```

**String.fromCodePoint() - ç ç‚¹è½¬å­—ç¬¦ä¸²**

```javascript
// è¯­æ³•ï¼šString.fromCodePoint(...codes)
// å‚æ•°ï¼šç ç‚¹åˆ—è¡¨
// è¿”å›å€¼ï¼šå­—ç¬¦ä¸²

console.log(String.fromCodePoint(65, 66, 67)); // 'ABC'
console.log(String.fromCodePoint(0x1f600)); // 'ğŸ˜€'
console.log(String.fromCodePoint(0x1f601, 0x1f602)); // 'ğŸ˜ğŸ˜‚'

// å®é™…åº”ç”¨ï¼šå¤„ç†Unicodeå­—ç¬¦
function getEmoji(codePoint) {
  return String.fromCodePoint(codePoint);
}
```

**String.raw() - åŸå§‹å­—ç¬¦ä¸²**

```javascript
// è¯­æ³•ï¼šString.raw(template, ...substitutions)
// å‚æ•°ï¼šæ¨¡æ¿, æ›¿æ¢å€¼
// è¿”å›å€¼ï¼šå­—ç¬¦ä¸²

const path = String.raw`C:\Users\Documents\file.txt`;
console.log(path); // 'C:\Users\Documents\file.txt'

// å®é™…åº”ç”¨ï¼šå¤„ç†æ­£åˆ™è¡¨è¾¾å¼
function createRegex(pattern) {
  return new RegExp(String.raw`${pattern}`);
}
```

---

## ES2016 æ—¶ä»£ï¼ˆ2016 å¹´ï¼‰

> **ğŸ¯ è§£å†³çš„é—®é¢˜**ï¼šES2016 å¼•å…¥äº† `includes()` æ–¹æ³•ï¼Œè§£å†³äº† `indexOf()` æ— æ³•æ­£ç¡®å¤„ç† `NaN` çš„é—®é¢˜ï¼Œè®©æ•°ç»„å’Œå­—ç¬¦ä¸²çš„åŒ…å«æ£€æŸ¥æ›´åŠ å¯é ã€‚

### ğŸ“ ES2016 æ•°ç»„æ–¹æ³•æ€»è§ˆ

| åŠŸèƒ½åˆ†ç±» | æ–¹æ³•     | è¯­æ³•                        | å‚æ•°              | è¿”å›å€¼ | æ”¹å˜åŸæ•°ç»„ | ç”¨é€”         |
| -------- | -------- | --------------------------- | ----------------- | ------ | ---------- | ------------ |
| **æŸ¥è¯¢** | includes | `arr.includes(item, start)` | æŸ¥æ‰¾å…ƒç´ ,å¼€å§‹ä½ç½® | å¸ƒå°”å€¼ | âŒ         | æ£€æŸ¥å…ƒç´ å­˜åœ¨ |

### ğŸ”§ ES2016 è¯¦ç»†æ–¹æ³•è¯´æ˜

**includes() - æ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨**

```javascript
// è¯­æ³•ï¼šarr.includes(item, start)
// å‚æ•°ï¼šæŸ¥æ‰¾å…ƒç´ ,å¼€å§‹ä½ç½®
// è¿”å›å€¼ï¼šå¸ƒå°”å€¼
// æ”¹å˜åŸæ•°ç»„ï¼šå¦

const arr = [1, 2, 3, NaN];
console.log(arr.includes(2)); // true
console.log(arr.includes(2, 2)); // false
console.log(arr.includes(NaN)); // true (indexOfæ— æ³•æ‰¾åˆ°NaN)

// å®é™…åº”ç”¨ï¼šæƒé™æ£€æŸ¥
function hasPermission(user, permission) {
  return user.permissions.includes(permission);
}
```

---

## ES2017 æ—¶ä»£ï¼ˆ2017 å¹´ï¼‰

> **ğŸ¯ è§£å†³çš„é—®é¢˜**ï¼šES2017 å¼•å…¥äº†å­—ç¬¦ä¸²å¡«å……æ–¹æ³• `padStart()` å’Œ `padEnd()`ï¼Œè§£å†³äº†å­—ç¬¦ä¸²æ ¼å¼åŒ–çš„é—®é¢˜ï¼Œè®©æ•°å­—ã€æ—¶é—´ç­‰æ•°æ®çš„æ˜¾ç¤ºæ›´åŠ ç»Ÿä¸€å’Œç¾è§‚ã€‚

### ğŸ“ ES2017 å­—ç¬¦ä¸²æ–¹æ³•æ€»è§ˆ

| åŠŸèƒ½åˆ†ç±» | æ–¹æ³•     | è¯­æ³•                              | å‚æ•°            | è¿”å›å€¼   | æ”¹å˜åŸå­—ç¬¦ä¸² | ç”¨é€”   |
| -------- | -------- | --------------------------------- | --------------- | -------- | ------------ | ------ |
| **ä¿®æ”¹** | padStart | `str.padStart(length, padString)` | é•¿åº¦,å¡«å……å­—ç¬¦ä¸² | æ–°å­—ç¬¦ä¸² | âŒ           | å‰å¡«å…… |
| **ä¿®æ”¹** | padEnd   | `str.padEnd(length, padString)`   | é•¿åº¦,å¡«å……å­—ç¬¦ä¸² | æ–°å­—ç¬¦ä¸² | âŒ           | åå¡«å…… |

### ğŸ”§ ES2017 è¯¦ç»†æ–¹æ³•è¯´æ˜

**padStart() - å‰å¡«å……**

```javascript
// è¯­æ³•ï¼šstr.padStart(length, padString)
// å‚æ•°ï¼šé•¿åº¦,å¡«å……å­—ç¬¦ä¸²
// è¿”å›å€¼ï¼šæ–°å­—ç¬¦ä¸²
// æ”¹å˜åŸå­—ç¬¦ä¸²ï¼šå¦

const str = "5";
console.log(str.padStart(3, "0")); // '005'

// å®é™…åº”ç”¨ï¼šæ ¼å¼åŒ–æ•°å­—
function formatNumber(num, digits = 3) {
  return num.toString().padStart(digits, "0");
}
```

**padEnd() - åå¡«å……**

```javascript
// è¯­æ³•ï¼šstr.padEnd(length, padString)
// å‚æ•°ï¼šé•¿åº¦,å¡«å……å­—ç¬¦ä¸²
// è¿”å›å€¼ï¼šæ–°å­—ç¬¦ä¸²
// æ”¹å˜åŸå­—ç¬¦ä¸²ï¼šå¦

const str = "Hello";
console.log(str.padEnd(10, "*")); // 'Hello*****'

// å®é™…åº”ç”¨ï¼šå¯¹é½æ–‡æœ¬
function alignText(texts, width) {
  return texts.map((text) => text.padEnd(width, " "));
}
```

---

## ES2019 æ—¶ä»£ï¼ˆ2019 å¹´ï¼‰

> **ğŸ¯ è§£å†³çš„é—®é¢˜**ï¼šES2019 å¼•å…¥äº† `flat()` å’Œ `flatMap()` æ–¹æ³•ï¼Œè§£å†³äº†åµŒå¥—æ•°ç»„å¤„ç†çš„ç—›ç‚¹ï¼Œè®©æ•°ç»„æ‰å¹³åŒ–æ“ä½œæ›´åŠ ç®€æ´ï¼Œé¿å…äº†å¤æ‚çš„é€’å½’å®ç°ã€‚

### ğŸ“ ES2019 æ•°ç»„æ–¹æ³•æ€»è§ˆ

| åŠŸèƒ½åˆ†ç±» | æ–¹æ³•    | è¯­æ³•                    | å‚æ•°     | è¿”å›å€¼     | æ”¹å˜åŸæ•°ç»„ | ç”¨é€”         |
| -------- | ------- | ----------------------- | -------- | ---------- | ---------- | ------------ |
| **è½¬æ¢** | flat    | `arr.flat(depth)`       | æ·±åº¦     | æ‰å¹³åŒ–æ•°ç»„ | âŒ         | æ•°ç»„æ‰å¹³åŒ–   |
| **è½¬æ¢** | flatMap | `arr.flatMap(callback)` | å›è°ƒå‡½æ•° | æ–°æ•°ç»„     | âŒ         | æ˜ å°„åæ‰å¹³åŒ– |

### ğŸ”§ ES2019 è¯¦ç»†æ–¹æ³•è¯´æ˜

**flat() - æ•°ç»„æ‰å¹³åŒ–**

> **ğŸ¯ è§£å†³çš„é—®é¢˜**ï¼šè§£å†³äº†åµŒå¥—æ•°ç»„å¤„ç†çš„ç—›ç‚¹ï¼Œé¿å…äº†å¤æ‚çš„é€’å½’å®ç°ï¼Œè®©æ•°ç»„æ‰å¹³åŒ–æ“ä½œæ›´åŠ ç®€æ´å’Œé«˜æ•ˆã€‚

```javascript
// è¯­æ³•ï¼šarr.flat(depth)
// å‚æ•°ï¼šæ·±åº¦ï¼ˆé»˜è®¤1ï¼‰
// è¿”å›å€¼ï¼šæ‰å¹³åŒ–æ•°ç»„
// æ”¹å˜åŸæ•°ç»„ï¼šå¦

const nested = [1, [2, 3], [4, [5, 6]]];
console.log(nested.flat()); // [1, 2, 3, 4, [5, 6]]
console.log(nested.flat(2)); // [1, 2, 3, 4, 5, 6]
console.log(nested.flat(Infinity)); // [1, 2, 3, 4, 5, 6]

// å®é™…åº”ç”¨ï¼šå¤„ç†åµŒå¥—æ•°æ®
function flattenData(data) {
  return data.flat(Infinity);
}
```

**flatMap() - æ˜ å°„åæ‰å¹³åŒ–**

```javascript
// è¯­æ³•ï¼šarr.flatMap(callback)
// å‚æ•°ï¼šå›è°ƒå‡½æ•°
// è¿”å›å€¼ï¼šæ–°æ•°ç»„
// æ”¹å˜åŸæ•°ç»„ï¼šå¦

const words = ["hello world", "javascript is awesome"];
const letters = words.flatMap((word) => word.split(" "));
console.log(letters); // ['hello', 'world', 'javascript', 'is', 'awesome']

// å®é™…åº”ç”¨ï¼šå¤„ç†åµŒå¥—æ•°ç»„
const numbers = [1, 2, 3, 4];
const doubled = numbers.flatMap((n) => [n, n * 2]);
console.log(doubled); // [1, 2, 2, 4, 3, 6, 4, 8]
```

---

## ES2021 æ—¶ä»£ï¼ˆ2021 å¹´ï¼‰

> **ğŸ¯ è§£å†³çš„é—®é¢˜**ï¼šES2021 å¼•å…¥äº† `replaceAll()` æ–¹æ³•ï¼Œè§£å†³äº† `replace()` åªèƒ½æ›¿æ¢ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹çš„é—®é¢˜ï¼Œè®©å…¨å±€å­—ç¬¦ä¸²æ›¿æ¢æ›´åŠ ç®€æ´ï¼Œé¿å…äº†ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼çš„å¤æ‚æ€§ã€‚

### ğŸ“ ES2021 å­—ç¬¦ä¸²æ–¹æ³•æ€»è§ˆ

| åŠŸèƒ½åˆ†ç±» | æ–¹æ³•       | è¯­æ³•                              | å‚æ•°          | è¿”å›å€¼   | æ”¹å˜åŸå­—ç¬¦ä¸² | ç”¨é€”     |
| -------- | ---------- | --------------------------------- | ------------- | -------- | ------------ | -------- |
| **ä¿®æ”¹** | replaceAll | `str.replaceAll(search, replace)` | æŸ¥æ‰¾å€¼,æ›¿æ¢å€¼ | æ–°å­—ç¬¦ä¸² | âŒ           | å…¨å±€æ›¿æ¢ |

### ğŸ”§ ES2021 è¯¦ç»†æ–¹æ³•è¯´æ˜

**replaceAll() - å…¨å±€æ›¿æ¢**

```javascript
// è¯­æ³•ï¼šstr.replaceAll(search, replace)
// å‚æ•°ï¼šæŸ¥æ‰¾å€¼,æ›¿æ¢å€¼
// è¿”å›å€¼ï¼šæ–°å­—ç¬¦ä¸²
// æ”¹å˜åŸå­—ç¬¦ä¸²ï¼šå¦

const str = "Hello World, Hello JavaScript";
const replaced = str.replaceAll("Hello", "Hi");
console.log(replaced); // 'Hi World, Hi JavaScript'

// å®é™…åº”ç”¨ï¼šæ–‡æœ¬æ¸…ç†
function cleanText(text) {
  return text
    .replaceAll("\n", " ")
    .replaceAll("\t", " ")
    .replaceAll(/\s+/g, " ")
    .trim();
}
```

---

## ES2022 æ—¶ä»£ï¼ˆ2022 å¹´ï¼‰

> **ğŸ¯ è§£å†³çš„é—®é¢˜**ï¼šES2022 å¼•å…¥äº† `at()` æ–¹æ³•å’Œä¸å¯å˜æ“ä½œæ–¹æ³•ï¼ˆ`toReversed`ã€`toSorted` ç­‰ï¼‰ï¼Œè§£å†³äº†è´Ÿç´¢å¼•è®¿é—®å’Œå‡½æ•°å¼ç¼–ç¨‹ä¸­é¿å…ä¿®æ”¹åŸæ•°ç»„çš„é—®é¢˜ï¼Œè®©ä»£ç æ›´åŠ å®‰å…¨å’Œå¯é¢„æµ‹ã€‚

### ğŸ“ ES2022 æ•°ç»„æ–¹æ³•æ€»è§ˆ

| åŠŸèƒ½åˆ†ç±» | æ–¹æ³•       | è¯­æ³•                                          | å‚æ•°                       | è¿”å›å€¼ | æ”¹å˜åŸæ•°ç»„ | ç”¨é€”     |
| -------- | ---------- | --------------------------------------------- | -------------------------- | ------ | ---------- | -------- |
| **æŸ¥è¯¢** | at         | `arr.at(index)`                               | ç´¢å¼•                       | å…ƒç´    | âŒ         | ç´¢å¼•è®¿é—® |
| **æ’åº** | toReversed | `arr.toReversed()`                            | æ—                          | æ–°æ•°ç»„ | âŒ         | åè½¬å‰¯æœ¬ |
| **æ’åº** | toSorted   | `arr.toSorted(compareFn)`                     | æ¯”è¾ƒå‡½æ•°                   | æ–°æ•°ç»„ | âŒ         | æ’åºå‰¯æœ¬ |
| **ä¿®æ”¹** | toSpliced  | `arr.toSpliced(start, deleteCount, ...items)` | å¼€å§‹ä½ç½®,åˆ é™¤æ•°é‡,æ’å…¥å…ƒç´  | æ–°æ•°ç»„ | âŒ         | æ‹¼æ¥å‰¯æœ¬ |
| **ä¿®æ”¹** | with       | `arr.with(index, value)`                      | ç´¢å¼•,æ–°å€¼                  | æ–°æ•°ç»„ | âŒ         | æ›¿æ¢å‰¯æœ¬ |

### ğŸ“ ES2022 å­—ç¬¦ä¸²æ–¹æ³•æ€»è§ˆ

| åŠŸèƒ½åˆ†ç±» | æ–¹æ³• | è¯­æ³•            | å‚æ•° | è¿”å›å€¼ | æ”¹å˜åŸå­—ç¬¦ä¸² | ç”¨é€”     |
| -------- | ---- | --------------- | ---- | ------ | ------------ | -------- |
| **æŸ¥è¯¢** | at   | `str.at(index)` | ç´¢å¼• | å­—ç¬¦   | âŒ           | å­—ç¬¦è®¿é—® |

### ğŸ”§ ES2022 è¯¦ç»†æ–¹æ³•è¯´æ˜

#### æ•°ç»„æ–¹æ³•

**at() - ç´¢å¼•è®¿é—®**

> **ğŸ¯ è§£å†³çš„é—®é¢˜**ï¼šè§£å†³äº†è´Ÿç´¢å¼•è®¿é—®çš„ç—›ç‚¹ï¼Œè®©è·å–æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ æ›´åŠ ç®€æ´ï¼Œé¿å…äº† `arr[arr.length - 1]` çš„å†—é•¿å†™æ³•ã€‚

```javascript
// è¯­æ³•ï¼šarr.at(index)
// å‚æ•°ï¼šç´¢å¼•ï¼ˆæ”¯æŒè´Ÿæ•°ï¼‰
// è¿”å›å€¼ï¼šå…ƒç´ 
// æ”¹å˜åŸæ•°ç»„ï¼šå¦

const arr = [1, 2, 3, 4, 5];
console.log(arr.at(0)); // 1
console.log(arr.at(-1)); // 5
console.log(arr.at(-2)); // 4

// å®é™…åº”ç”¨ï¼šè·å–æœ€åä¸€ä¸ªå…ƒç´ 
function getLastItem(array) {
  return array.at(-1);
}
```

**toReversed() - åè½¬å‰¯æœ¬**

```javascript
// è¯­æ³•ï¼šarr.toReversed()
// å‚æ•°ï¼šæ— 
// è¿”å›å€¼ï¼šæ–°æ•°ç»„
// æ”¹å˜åŸæ•°ç»„ï¼šå¦

const original = [1, 2, 3, 4, 5];
const reversed = original.toReversed();
console.log(original); // [1, 2, 3, 4, 5] (åŸæ•°ç»„ä¸å˜)
console.log(reversed); // [5, 4, 3, 2, 1]

// å®é™…åº”ç”¨ï¼šä¸æ”¹å˜åŸæ•°ç»„çš„åè½¬
function reverseArray(array) {
  return array.toReversed();
}
```

**toSorted() - æ’åºå‰¯æœ¬**

```javascript
// è¯­æ³•ï¼šarr.toSorted(compareFn)
// å‚æ•°ï¼šæ¯”è¾ƒå‡½æ•°
// è¿”å›å€¼ï¼šæ–°æ•°ç»„
// æ”¹å˜åŸæ•°ç»„ï¼šå¦

const original = [3, 1, 4, 1, 5];
const sorted = original.toSorted();
console.log(original); // [3, 1, 4, 1, 5] (åŸæ•°ç»„ä¸å˜)
console.log(sorted); // [1, 1, 3, 4, 5]

// å®é™…åº”ç”¨ï¼šä¸æ”¹å˜åŸæ•°ç»„çš„æ’åº
function sortArray(array) {
  return array.toSorted((a, b) => a - b);
}
```

**toSpliced() - æ‹¼æ¥å‰¯æœ¬**

```javascript
// è¯­æ³•ï¼šarr.toSpliced(start, deleteCount, ...items)
// å‚æ•°ï¼šå¼€å§‹ä½ç½®, åˆ é™¤æ•°é‡, æ’å…¥å…ƒç´ 
// è¿”å›å€¼ï¼šæ–°æ•°ç»„
// æ”¹å˜åŸæ•°ç»„ï¼šå¦

const original = [1, 2, 3, 4, 5];
const spliced = original.toSpliced(1, 2, "a", "b");
console.log(original); // [1, 2, 3, 4, 5] (åŸæ•°ç»„ä¸å˜)
console.log(spliced); // [1, 'a', 'b', 4, 5]

// å®é™…åº”ç”¨ï¼šä¸æ”¹å˜åŸæ•°ç»„çš„æ‹¼æ¥
function spliceArray(array, start, deleteCount, ...items) {
  return array.toSpliced(start, deleteCount, ...items);
}
```

**with() - æ›¿æ¢å‰¯æœ¬**

```javascript
// è¯­æ³•ï¼šarr.with(index, value)
// å‚æ•°ï¼šç´¢å¼•, æ–°å€¼
// è¿”å›å€¼ï¼šæ–°æ•°ç»„
// æ”¹å˜åŸæ•°ç»„ï¼šå¦

const original = [1, 2, 3, 4, 5];
const modified = original.with(2, "three");
console.log(original); // [1, 2, 3, 4, 5] (åŸæ•°ç»„ä¸å˜)
console.log(modified); // [1, 2, 'three', 4, 5]

// å®é™…åº”ç”¨ï¼šä¸æ”¹å˜åŸæ•°ç»„çš„æ›¿æ¢
function updateArray(array, index, value) {
  return array.with(index, value);
}
```

#### å­—ç¬¦ä¸²æ–¹æ³•

**at() - å­—ç¬¦è®¿é—®**

```javascript
// è¯­æ³•ï¼šstr.at(index)
// å‚æ•°ï¼šç´¢å¼•ï¼ˆæ”¯æŒè´Ÿæ•°ï¼‰
// è¿”å›å€¼ï¼šå­—ç¬¦
// æ”¹å˜åŸå­—ç¬¦ä¸²ï¼šå¦

const str = "Hello World";
console.log(str.at(0)); // 'H'
console.log(str.at(-1)); // 'd'
console.log(str.at(-2)); // 'l'

// å®é™…åº”ç”¨ï¼šè·å–æœ€åä¸€ä¸ªå­—ç¬¦
function getLastChar(str) {
  return str.at(-1);
}
```

## å®é™…åº”ç”¨åœºæ™¯

### 1. æ•°æ®å¤„ç†åœºæ™¯

**ç”¨æˆ·æ•°æ®ç­›é€‰å’Œæ’åº**

```javascript
const users = [
  { id: 1, name: "å¼ ä¸‰", age: 25, city: "åŒ—äº¬", salary: 8000 },
  { id: 2, name: "æå››", age: 30, city: "ä¸Šæµ·", salary: 12000 },
  { id: 3, name: "ç‹äº”", age: 28, city: "åŒ—äº¬", salary: 10000 },
  { id: 4, name: "èµµå…­", age: 35, city: "å¹¿å·", salary: 15000 },
  { id: 5, name: "é’±ä¸ƒ", age: 22, city: "ä¸Šæµ·", salary: 6000 },
];

// åœºæ™¯1ï¼šç­›é€‰åŒ—äº¬ç”¨æˆ·å¹¶æŒ‰å¹´é¾„æ’åº
const beijingUsers = users
  .filter((user) => user.city === "åŒ—äº¬")
  .sort((a, b) => a.age - b.age);

// åœºæ™¯2ï¼šè®¡ç®—å¹³å‡è–ªèµ„
const averageSalary =
  users.reduce((sum, user) => sum + user.salary, 0) / users.length;

// åœºæ™¯3ï¼šæŒ‰åŸå¸‚åˆ†ç»„
const usersByCity = users.reduce((groups, user) => {
  const city = user.city;
  if (!groups[city]) {
    groups[city] = [];
  }
  groups[city].push(user);
  return groups;
}, {});
```

### 2. è¡¨å•æ•°æ®å¤„ç†

**è¡¨å•éªŒè¯å’Œæ•°æ®æ¸…ç†**

```javascript
const formData = {
  username: "  user123  ",
  email: "USER@EXAMPLE.COM",
  phone: "138-1234-5678",
  age: "25",
  hobbies: ["reading", "swimming", "coding"],
};

// æ•°æ®æ¸…ç†å‡½æ•°
function cleanFormData(data) {
  return {
    username: data.username.trim().toLowerCase(),
    email: data.email.trim().toLowerCase(),
    phone: data.phone.replace(/-/g, ""),
    age: parseInt(data.age),
    hobbies: data.hobbies.map((hobby) => hobby.trim().toLowerCase()),
  };
}

// è¡¨å•éªŒè¯
function validateForm(data) {
  const errors = [];

  if (!data.username || data.username.length < 3) {
    errors.push("ç”¨æˆ·åè‡³å°‘3ä¸ªå­—ç¬¦");
  }

  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  if (!emailRegex.test(data.email)) {
    errors.push("é‚®ç®±æ ¼å¼ä¸æ­£ç¡®");
  }

  const phoneRegex = /^1[3-9]\d{9}$/;
  if (!phoneRegex.test(data.phone)) {
    errors.push("æ‰‹æœºå·æ ¼å¼ä¸æ­£ç¡®");
  }

  return {
    isValid: errors.length === 0,
    errors,
  };
}
```

### 3. æœç´¢å’Œè¿‡æ»¤åŠŸèƒ½

**å®æ—¶æœç´¢å®ç°**

```javascript
const articles = [
  {
    id: 1,
    title: "JavaScriptåŸºç¡€æ•™ç¨‹",
    content: "å­¦ä¹ JavaScriptçš„åŸºæœ¬è¯­æ³•...",
    tags: ["javascript", "åŸºç¡€"],
  },
  {
    id: 2,
    title: "Reactå¼€å‘æŒ‡å—",
    content: "Reactæ¡†æ¶çš„ä½¿ç”¨æ–¹æ³•...",
    tags: ["react", "å‰ç«¯"],
  },
  {
    id: 3,
    title: "Node.jsåç«¯å¼€å‘",
    content: "ä½¿ç”¨Node.jsæ„å»ºåç«¯æœåŠ¡...",
    tags: ["nodejs", "åç«¯"],
  },
];

// æœç´¢å‡½æ•°
function searchArticles(articles, keyword) {
  if (!keyword.trim()) return articles;

  const lowerKeyword = keyword.toLowerCase();

  return articles.filter(
    (article) =>
      article.title.toLowerCase().includes(lowerKeyword) ||
      article.content.toLowerCase().includes(lowerKeyword) ||
      article.tags.some((tag) => tag.toLowerCase().includes(lowerKeyword))
  );
}

// é«˜çº§æœç´¢ï¼šå¤šæ¡ä»¶ç­›é€‰
function advancedSearch(articles, filters) {
  return articles.filter((article) => {
    if (filters.keyword) {
      const keyword = filters.keyword.toLowerCase();
      const matchesKeyword =
        article.title.toLowerCase().includes(keyword) ||
        article.content.toLowerCase().includes(keyword) ||
        article.tags.some((tag) => tag.toLowerCase().includes(keyword));

      if (!matchesKeyword) return false;
    }

    if (filters.tags && filters.tags.length > 0) {
      const hasMatchingTag = filters.tags.some((tag) =>
        article.tags.includes(tag)
      );
      if (!hasMatchingTag) return false;
    }

    return true;
  });
}
```

---

## æ€§èƒ½å¯¹æ¯”ä¸æœ€ä½³å®è·µ

### 1. æ•°ç»„éå†æ€§èƒ½å¯¹æ¯”

**æ€§èƒ½æµ‹è¯•ç»“æœï¼ˆåŸºäº 10000 ä¸ªå…ƒç´ çš„æ•°ç»„ï¼‰ï¼š**

```javascript
// æ€§èƒ½æµ‹è¯•å‡½æ•°
function performanceTest(name, fn, iterations = 1000) {
  const start = performance.now();
  for (let i = 0; i < iterations; i++) {
    fn();
  }
  const end = performance.now();
  console.log(`${name}: ${(end - start).toFixed(2)}ms`);
}

const testArray = Array.from({ length: 10000 }, (_, i) => i);

// æµ‹è¯•å„ç§éå†æ–¹æ³•
performanceTest("forå¾ªç¯", () => {
  for (let i = 0; i < testArray.length; i++) {
    testArray[i] * 2;
  }
});

performanceTest("for...of", () => {
  for (const item of testArray) {
    item * 2;
  }
});

performanceTest("forEach", () => {
  testArray.forEach((item) => item * 2);
});

performanceTest("map", () => {
  testArray.map((item) => item * 2);
});

// å…¸å‹ç»“æœï¼ˆç›¸å¯¹æ€§èƒ½ï¼‰ï¼š
// forå¾ªç¯: æœ€å¿«
// for...of: è¾ƒå¿«
// forEach: ä¸­ç­‰
// map: è¾ƒæ…¢ï¼ˆå› ä¸ºåˆ›å»ºæ–°æ•°ç»„ï¼‰
```

### 2. æœ€ä½³å®è·µå»ºè®®

**æ•°ç»„æ“ä½œæœ€ä½³å®è·µï¼š**

```javascript
// âœ… æ¨èï¼šä½¿ç”¨ for å¾ªç¯è¿›è¡Œç®€å•éå†
const numbers = [1, 2, 3, 4, 5];
for (let i = 0; i < numbers.length; i++) {
  console.log(numbers[i]);
}

// âœ… æ¨èï¼šä½¿ç”¨ for...of è¿›è¡Œå€¼éå†
for (const number of numbers) {
  console.log(number);
}

// âœ… æ¨èï¼šä½¿ç”¨ map è¿›è¡Œæ•°æ®è½¬æ¢
const doubled = numbers.map((n) => n * 2);

// âœ… æ¨èï¼šä½¿ç”¨ filter è¿›è¡Œæ•°æ®ç­›é€‰
const evens = numbers.filter((n) => n % 2 === 0);

// âœ… æ¨èï¼šä½¿ç”¨ reduce è¿›è¡Œæ•°æ®èšåˆ
const sum = numbers.reduce((acc, n) => acc + n, 0);

// âŒ é¿å…ï¼šåœ¨å¾ªç¯ä¸­åˆ›å»ºå‡½æ•°
// ä¸å¥½çš„åšæ³•
const badExample = [];
for (let i = 0; i < numbers.length; i++) {
  badExample.push(function () {
    return numbers[i];
  });
}

// âœ… å¥½çš„åšæ³•
const goodExample = numbers.map((n) => () => n);
```

**å­—ç¬¦ä¸²æ“ä½œæœ€ä½³å®è·µï¼š**

```javascript
// âœ… æ¨èï¼šä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸²è¿›è¡Œå­—ç¬¦ä¸²æ‹¼æ¥
const name = "å¼ ä¸‰";
const age = 25;
const message = `ä½ å¥½ï¼Œæˆ‘æ˜¯${name}ï¼Œä»Šå¹´${age}å²`;

// âœ… æ¨èï¼šå¤§é‡å­—ç¬¦ä¸²æ‹¼æ¥ä½¿ç”¨æ•°ç»„join()
function buildLargeString(parts) {
  const result = [];
  for (const part of parts) {
    result.push(part);
  }
  return result.join("");
}

// âœ… æ¨èï¼šä½¿ç”¨ includes è¿›è¡Œå­—ç¬¦ä¸²åŒ…å«æ£€æŸ¥
if (text.includes("keyword")) {
  // å¤„ç†é€»è¾‘
}

// âŒ é¿å…ï¼šé¢‘ç¹çš„å­—ç¬¦ä¸²æ‹¼æ¥
// ä¸å¥½çš„åšæ³•
let badString = "";
for (let i = 0; i < 1000; i++) {
  badString += "a";
}

// âœ… å¥½çš„åšæ³•
const goodString = "a".repeat(1000);
```

---

## é¢è¯•å¸¸è€ƒç®—æ³•

### 1. æ•°ç»„å»é‡æ–¹æ³•å¯¹æ¯”

```javascript
// æ–¹æ³•1ï¼šä½¿ç”¨ Set
function unique1(arr) {
  return [...new Set(arr)];
}

// æ–¹æ³•2ï¼šä½¿ç”¨ filter + indexOf
function unique2(arr) {
  return arr.filter((item, index) => arr.indexOf(item) === index);
}

// æ–¹æ³•3ï¼šä½¿ç”¨ reduce
function unique3(arr) {
  return arr.reduce((acc, current) => {
    if (!acc.includes(current)) {
      acc.push(current);
    }
    return acc;
  }, []);
}

// æ–¹æ³•4ï¼šä½¿ç”¨ Map
function unique4(arr) {
  const map = new Map();
  return arr.filter((item) => {
    if (map.has(item)) {
      return false;
    }
    map.set(item, true);
    return true;
  });
}

// æ€§èƒ½æµ‹è¯•
const testArray = Array.from({ length: 10000 }, () =>
  Math.floor(Math.random() * 1000)
);

console.time("Setæ–¹æ³•");
unique1(testArray);
console.timeEnd("Setæ–¹æ³•");

console.time("filteræ–¹æ³•");
unique2(testArray);
console.timeEnd("filteræ–¹æ³•");

console.time("reduceæ–¹æ³•");
unique3(testArray);
console.timeEnd("reduceæ–¹æ³•");

console.time("Mapæ–¹æ³•");
unique4(testArray);
console.timeEnd("Mapæ–¹æ³•");

// å…¸å‹ç»“æœï¼šSetæ–¹æ³• > Mapæ–¹æ³• > filteræ–¹æ³• > reduceæ–¹æ³•
```

### 2. æ•°ç»„æ‰å¹³åŒ–å®ç°

```javascript
// æ–¹æ³•1ï¼šä½¿ç”¨ flat()
function flatten1(arr) {
  return arr.flat(Infinity);
}

// æ–¹æ³•2ï¼šä½¿ç”¨é€’å½’
function flatten2(arr) {
  const result = [];
  for (const item of arr) {
    if (Array.isArray(item)) {
      result.push(...flatten2(item));
    } else {
      result.push(item);
    }
  }
  return result;
}

// æ–¹æ³•3ï¼šä½¿ç”¨ reduce
function flatten3(arr) {
  return arr.reduce((acc, current) => {
    return acc.concat(Array.isArray(current) ? flatten3(current) : current);
  }, []);
}

// æ–¹æ³•4ï¼šä½¿ç”¨ while å¾ªç¯
function flatten4(arr) {
  let result = [...arr];
  while (result.some((item) => Array.isArray(item))) {
    result = [].concat(...result);
  }
  return result;
}

// æµ‹è¯•
const nestedArray = [1, [2, [3, [4, 5]]], 6, [7, 8]];
console.log(flatten1(nestedArray)); // [1, 2, 3, 4, 5, 6, 7, 8]
console.log(flatten2(nestedArray)); // [1, 2, 3, 4, 5, 6, 7, 8]
console.log(flatten3(nestedArray)); // [1, 2, 3, 4, 5, 6, 7, 8]
console.log(flatten4(nestedArray)); // [1, 2, 3, 4, 5, 6, 7, 8]
```

### 3. æ·±æ‹·è´å®ç°

```javascript
// æ–¹æ³•1ï¼šä½¿ç”¨ JSONï¼ˆæœ‰é™åˆ¶ï¼‰
function deepClone1(obj) {
  return JSON.parse(JSON.stringify(obj));
}

// æ–¹æ³•2ï¼šé€’å½’å®ç°
function deepClone2(obj) {
  if (obj === null || typeof obj !== "object") {
    return obj;
  }

  if (obj instanceof Date) {
    return new Date(obj.getTime());
  }

  if (obj instanceof Array) {
    return obj.map((item) => deepClone2(item));
  }

  if (typeof obj === "object") {
    const cloned = {};
    for (const key in obj) {
      if (obj.hasOwnProperty(key)) {
        cloned[key] = deepClone2(obj[key]);
      }
    }
    return cloned;
  }
}

// æ–¹æ³•3ï¼šä½¿ç”¨ Map å¤„ç†å¾ªç¯å¼•ç”¨
function deepClone3(obj, map = new Map()) {
  if (obj === null || typeof obj !== "object") {
    return obj;
  }

  if (map.has(obj)) {
    return map.get(obj);
  }

  const cloned = Array.isArray(obj) ? [] : {};
  map.set(obj, cloned);

  for (const key in obj) {
    if (obj.hasOwnProperty(key)) {
      cloned[key] = deepClone3(obj[key], map);
    }
  }

  return cloned;
}

// æµ‹è¯•
const original = {
  name: "å¼ ä¸‰",
  age: 25,
  hobbies: ["è¯»ä¹¦", "æ¸¸æ³³"],
  address: {
    city: "åŒ—äº¬",
    district: "æœé˜³åŒº",
  },
  birthday: new Date("1998-01-01"),
};

const cloned = deepClone3(original);
console.log(cloned);
console.log(cloned !== original); // true
console.log(cloned.hobbies !== original.hobbies); // true
```

---

## ğŸ“‹ æ€»ç»“

### è®°å¿†æŠ€å·§

1. **åˆ†ç±»è®°å¿†**ï¼šæŒ‰åŠŸèƒ½åˆ†ç±»ï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰
2. **å¯¹æ¯”è®°å¿†**ï¼šç›¸ä¼¼æ–¹æ³•çš„åŒºåˆ«ï¼ˆslice vs spliceï¼‰
3. **å‚æ•°è®°å¿†**ï¼šå‚æ•°é¡ºåºå’Œå«ä¹‰
4. **è¿”å›å€¼è®°å¿†**ï¼šè¿”å›ä»€ä¹ˆç±»å‹çš„æ•°æ®
5. **å‰¯ä½œç”¨è®°å¿†**ï¼šæ˜¯å¦æ”¹å˜åŸæ•°ç»„/å­—ç¬¦ä¸²

### ä½¿ç”¨å»ºè®®

1. **ä¼˜å…ˆä½¿ç”¨ ES6+æ–¹æ³•**ï¼šæ›´ç®€æ´ã€æ›´å®‰å…¨
2. **æ³¨æ„æ€§èƒ½å·®å¼‚**ï¼šå¤§æ•°æ®é‡æ—¶é€‰æ‹©åˆé€‚çš„æ–¹æ³•
3. **é“¾å¼è°ƒç”¨**ï¼šåˆç†ç»„åˆå¤šä¸ªæ–¹æ³•
4. **é”™è¯¯å¤„ç†**ï¼šæ³¨æ„è¾¹ç•Œæƒ…å†µå’Œå¼‚å¸¸å¤„ç†
5. **ä»£ç å¯è¯»æ€§**ï¼šé€‰æ‹©è¯­ä¹‰æ˜ç¡®çš„æ–¹æ³•å

## æ•°ç»„å’Œå­—ç¬¦ä¸²åŒåæ–¹æ³•å¯¹æ¯”

### 1. **concat() - æ‹¼æ¥æ–¹æ³•**

**æ•°ç»„ concat()**

```javascript
const arr1 = [1, 2];
const arr2 = [3, 4];
const result = arr1.concat(arr2); // [1, 2, 3, 4]
// å‚æ•°ï¼šè¦æ‹¼æ¥çš„å…ƒç´ ï¼ˆæ•°ç»„ä¼šè¢«å±•å¼€ï¼‰
// è¿”å›å€¼ï¼šæ–°æ•°ç»„
```

**å­—ç¬¦ä¸² concat()**

```javascript
const str1 = "Hello";
const str2 = "World";
const result = str1.concat(" ", str2); // "Hello World"
// å‚æ•°ï¼šè¦æ‹¼æ¥çš„å­—ç¬¦ä¸²
// è¿”å›å€¼ï¼šæ–°å­—ç¬¦ä¸²
```

### 2. **slice() - æˆªå–æ–¹æ³•**

**æ•°ç»„ slice()**

```javascript
const arr = [1, 2, 3, 4, 5];
const result = arr.slice(1, 3); // [2, 3]
// å‚æ•°ï¼šå¼€å§‹ä½ç½®, ç»“æŸä½ç½®ï¼ˆä¸åŒ…å«ï¼‰
// è¿”å›å€¼ï¼šæ–°æ•°ç»„
```

**å­—ç¬¦ä¸² slice()**

```javascript
const str = "Hello World";
const result = str.slice(0, 5); // "Hello"
// å‚æ•°ï¼šå¼€å§‹ä½ç½®, ç»“æŸä½ç½®ï¼ˆä¸åŒ…å«ï¼‰
// è¿”å›å€¼ï¼šæ–°å­—ç¬¦ä¸²
```

### 3. **indexOf() - æŸ¥æ‰¾æ–¹æ³•**

**æ•°ç»„ indexOf()**

```javascript
const arr = ["a", "b", "c", "b"];
const index = arr.indexOf("b"); // 1
// å‚æ•°ï¼šæŸ¥æ‰¾å…ƒç´ , å¼€å§‹ä½ç½®
// è¿”å›å€¼ï¼šç´¢å¼•æˆ–-1
```

**å­—ç¬¦ä¸² indexOf()**

```javascript
const str = "Hello World";
const index = str.indexOf("World"); // 6
// å‚æ•°ï¼šå­å­—ç¬¦ä¸², å¼€å§‹ä½ç½®
// è¿”å›å€¼ï¼šç´¢å¼•æˆ–-1
```

### 4. **lastIndexOf() - æœ€åæŸ¥æ‰¾æ–¹æ³•**

**æ•°ç»„ lastIndexOf()**

```javascript
const arr = ["a", "b", "c", "b"];
const index = arr.lastIndexOf("b"); // 3
// å‚æ•°ï¼šæŸ¥æ‰¾å…ƒç´ , å¼€å§‹ä½ç½®
// è¿”å›å€¼ï¼šç´¢å¼•æˆ–-1
```

**å­—ç¬¦ä¸² lastIndexOf()**

```javascript
const str = "Hello World, Hello JavaScript";
const index = str.lastIndexOf("Hello"); // 13
// å‚æ•°ï¼šå­å­—ç¬¦ä¸², å¼€å§‹ä½ç½®
// è¿”å›å€¼ï¼šç´¢å¼•æˆ–-1
```

### 5. **includes() - åŒ…å«æ£€æŸ¥æ–¹æ³•**

**æ•°ç»„ includes()**

```javascript
const arr = [1, 2, 3, NaN];
const has = arr.includes(2); // true
const hasNaN = arr.includes(NaN); // true
// å‚æ•°ï¼šæŸ¥æ‰¾å…ƒç´ , å¼€å§‹ä½ç½®
// è¿”å›å€¼ï¼šå¸ƒå°”å€¼
```

**å­—ç¬¦ä¸² includes()**

```javascript
const str = "Hello World";
const has = str.includes("World"); // true
// å‚æ•°ï¼šå­å­—ç¬¦ä¸², å¼€å§‹ä½ç½®
// è¿”å›å€¼ï¼šå¸ƒå°”å€¼
```

### 6. **toString() - è½¬å­—ç¬¦ä¸²æ–¹æ³•**

**æ•°ç»„ toString()**

```javascript
const arr = [1, 2, 3, 4, 5];
const str = arr.toString(); // "1,2,3,4,5"
// å‚æ•°ï¼šæ— 
// è¿”å›å€¼ï¼šå­—ç¬¦ä¸²ï¼ˆç”¨é€—å·åˆ†éš”ï¼‰
```

**å­—ç¬¦ä¸² toString()**

```javascript
const str = "Hello World";
const result = str.toString(); // "Hello World"
// å‚æ•°ï¼šæ— 
// è¿”å›å€¼ï¼šå­—ç¬¦ä¸²ï¼ˆåŸå­—ç¬¦ä¸²ï¼‰
```

### 7. **at() - ç´¢å¼•è®¿é—®æ–¹æ³•ï¼ˆES2022ï¼‰**

**æ•°ç»„ at()**

```javascript
const arr = [1, 2, 3, 4, 5];
const item = arr.at(-1); // 5
// å‚æ•°ï¼šç´¢å¼•ï¼ˆæ”¯æŒè´Ÿæ•°ï¼‰
// è¿”å›å€¼ï¼šå…ƒç´ 
```

**å­—ç¬¦ä¸² at()**

```javascript
const str = "Hello World";
const char = str.at(-1); // "d"
// å‚æ•°ï¼šç´¢å¼•ï¼ˆæ”¯æŒè´Ÿæ•°ï¼‰
// è¿”å›å€¼ï¼šå­—ç¬¦
```
