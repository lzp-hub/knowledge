## 一、常见攻击方式

### 1. 什么是 XSS 攻击？有哪些类型？ 🔥

**一句话回答**
XSS（跨站脚本攻击）通过注入恶意脚本在浏览器执行，分为存储型、反射型、DOM 型。

**要点**

- 存储型：恶意代码存储在数据库。
- 反射型：恶意代码拼接在 URL，服务端返回。
- DOM 型：前端直接拼接执行。

**详细回答**

- 存储型：攻击代码写入评论区，所有访问者执行。
- 反射型：通过 URL 参数传入 `<script>`，页面回显时执行。
- DOM 型：前端 `innerHTML` 拼接时执行恶意代码。

**扩展/对比**

- 面试官常问：“如何防御 XSS？” 👉 转义、CSP、安全库（DOMPurify）。

---

### 2. 如何防御 XSS 攻击？ 🔥

**一句话回答**
通过转义输出、净化输入、CSP 策略限制执行源。

**要点**

- 输出转义。
- DOMPurify 净化。
- CSP 白名单。

**详细回答**

```js
// React JSX 默认转义
<div>{userInput}</div>

// 使用 DOMPurify
<div dangerouslySetInnerHTML={{__html: DOMPurify.sanitize(userInput)}} />
```

**扩展/对比**

- 面试官可能问：“为什么 React 默认安全？” 👉 因为 JSX 自动转义 HTML。

---

### 3. 什么是 CSRF 攻击？ 🔥

**一句话回答**
CSRF（跨站请求伪造）利用用户已登录身份，在不知情下发起恶意请求。

**要点**

- 依赖 Cookie 自动携带。
- 用户不知情。
- 常见在表单提交、转账请求。

**详细回答**
例子：攻击者引导用户访问带恶意 `<img src="http://bank.com/transfer?money=1000">`，浏览器自动带上 Cookie，完成转账。

**扩展/对比**

- 面试官可能问：“为什么 SameSite Cookie 可以防御 CSRF？” 👉 限制跨站请求携带 Cookie。

---

### 4. 如何防御 CSRF 攻击？ 🔥

**一句话回答**
通过 SameSite Cookie、CSRF Token、双重验证避免跨站伪造。

**要点**

- SameSite Cookie。
- CSRF Token。
- Referer 校验。

**详细回答**

- 设置 Cookie `SameSite=Strict` 或 `Lax`，避免跨站请求自动携带。
- 服务端返回 CSRF Token，前端请求时附带。
- 部分场景用验证码、二次确认。

**扩展/对比**

- 面试官可能问：“CSRF 和 XSS 的关系？” 👉 CSRF 需要受害者登录，XSS 不依赖。

---

### 5. 点击劫持攻击（Clickjacking）

**一句话回答**
点击劫持通过透明 iframe 引导用户误点敏感按钮。

**要点**

- iframe 叠加。
- 用户误操作。

**详细回答**
攻击者在页面中嵌入银行网站 iframe，并通过透明覆盖用户点击区域，诱导用户点击转账按钮。

**扩展/对比**

- 防御方法：`X-Frame-Options:DENY` 或 `Content-Security-Policy: frame-ancestors 'none'`。

---

### 6. 前端如何防御数据泄露 🔥

**一句话回答**
通过 HTTPS、加密存储、最小化数据暴露、脱敏展示。

**要点**

- HTTPS 传输。
- Token 放 HttpOnly Cookie。
- 本地存储加密。

**详细回答**

- 敏感数据（如身份证、手机号）前端仅做部分展示（掩码）。
- 避免把敏感信息写进 localStorage（容易被 XSS 读出）。

**扩展/对比**

- 面试官可能问：“为什么 Token 建议放 Cookie 而不是 localStorage？” 👉 HttpOnly 防止被 JS 读取。

---

## 二、浏览器安全机制

### 7. 什么是同源策略？ 🔥

**一句话回答**
同源策略限制不同源之间的 DOM、Cookie、LocalStorage 访问。

**要点**

- 协议、域名、端口必须相同。
- 保护用户数据安全。

**详细回答**

- 不同源不能互相访问 Cookie/LocalStorage。
- AJAX 请求跨域需 CORS 配置。

**扩展/对比**

- 面试官可能问：“如何解决跨域？” 👉 CORS / 代理 / JSONP。

---

### 8. 什么是 CSP（Content Security Policy） 🔥

**一句话回答**
CSP 限制页面可加载的资源来源，防御 XSS 注入。

**要点**

- 限制脚本来源。
- 限制样式、图片。
- 默认阻止内联脚本。

**详细回答**

```http
Content-Security-Policy: script-src 'self' https://cdn.example.com
```

**扩展/对比**

- 面试官可能问：“CSP 怎么限制内联脚本？” 👉 `script-src 'self'` + nonce/hash。

---

### 9. Subresource Integrity (SRI)

**一句话回答**
SRI 通过校验资源哈希值，防止 CDN 资源被篡改。

**要点**

- `<script integrity>`。
- 结合 crossorigin。

**详细回答**

```html
<script src="cdn.js" integrity="sha384-abc..." crossorigin="anonymous"></script>
```

**扩展/对比**

- 面试官可能问：“为什么即使用 CDN 也需要 SRI？” 👉 防止 CDN 被攻击注入恶意代码。
